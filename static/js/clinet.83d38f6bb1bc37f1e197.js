(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{NEON:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var d=arguments[t];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n])}return e};t.default=((e=[],t)=>{switch(t.type){case"ADD_TODO":return[...e,{id:t.id,text:t.text,completed:!1}];case"TOGGLE_TODO":return e.map(e=>e.id===t.id?n({},e,{completed:!e.completed}):e);default:return e}})},TV5u:function(e,t,d){"use strict";var n=l(d("q1tI")),s=d("i8i4"),r=d("ANjH"),i=d("/MKj"),u=l(d("cokx")),a=l(d("txfS"));function l(e){return e&&e.__esModule?e:{default:e}}const c=window.__PRELOADED_STATE__,o=(0,r.createStore)(u.default,c);(0,s.hydrate)(n.default.createElement(i.Provider,{store:o},n.default.createElement(a.default,null)),document.getElementById("root"))},ZAhb:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=((e="SHOW_ALL",t)=>{switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}})},ZXo9:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d("q1tI"),s=i(n),r=i(d("17x9"));function i(e){return e&&e.__esModule?e:{default:e}}class u extends n.Component{render(){return s.default.createElement("ul",null,this.props.posts.map((e,t)=>s.default.createElement("li",{key:t},e.title)))}}t.default=u,u.propTypes={posts:r.default.array.isRequired}},cokx:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d("ANjH"),s=u(d("NEON")),r=u(d("ZAhb")),i=d("f4xN");function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.combineReducers)({todos:s.default,visibilityFilter:r.default,postsBySubreddit:i.postsBySubreddit,selectedSubreddit:i.selectedSubreddit})},f4xN:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectedSubreddit=t.postsBySubreddit=void 0,d("ANjH");var n=d("nVjD");t.postsBySubreddit=function(e={},t){switch(t.type){case n.INVALIDATE_SUBREDDIT:case n.RECEIVE_POSTS:case n.REQUEST_POSTS:return Object.assign({},e,{[t.subreddit]:function(e={isFetching:!1,didInvalidate:!1,items:[]},t){switch(t.type){case n.INVALIDATE_SUBREDDIT:return Object.assign({},e,{didInvalidate:!0});case n.REQUEST_POSTS:return Object.assign({},e,{isFetching:!0,didInvalidate:!1});case n.RECEIVE_POSTS:return Object.assign({},e,{isFetching:!1,didInvalidate:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}}(e[t.subreddit],t)});default:return e}},t.selectedSubreddit=function(e="reactjs",t){switch(t.type){case n.SELECT_SUBREDDIT:return t.subreddit;default:return e}}},nVg2:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d("q1tI"),s=i(n),r=i(d("17x9"));function i(e){return e&&e.__esModule?e:{default:e}}class u extends n.Component{render(){const{value:e,onChange:t,options:d}=this.props;return s.default.createElement("span",null,s.default.createElement("h1",null,e),s.default.createElement("select",{onChange:e=>t(e.target.value),value:e},d.map(e=>s.default.createElement("option",{value:e,key:e},e))))}}t.default=u,u.propTypes={options:r.default.arrayOf(r.default.string.isRequired).isRequired,value:r.default.string.isRequired,onChange:r.default.func.isRequired}},nVjD:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSubreddit=function(e){return{type:r,subreddit:e}},t.invalidateSubreddit=function(e){return{type:i,subreddit:e}},t.fetchPostsIfNeeded=function(e){return(t,d)=>{if(function(e,t){const d=e.postsBySubreddit[t];return!d||!d.isFetching&&d.didInvalidate}(d(),e))return t(function(e){return t=>(t(function(e){return{type:n,subreddit:e}}(e)),fetch(`https://www.reddit.com/r/${e}.json`).then(e=>e.json()).then(d=>t(function(e,t){return{type:s,subreddit:e,posts:d.data.children.map(e=>e.data),receivedAt:Date.now()}}(e))))}(e))}};const n=t.REQUEST_POSTS="REQUEST_POSTS",s=t.RECEIVE_POSTS="RECEIVE_POSTS",r=t.SELECT_SUBREDDIT="SELECT_SUBREDDIT",i=t.INVALIDATE_SUBREDDIT="INVALIDATE_SUBREDDIT"},txfS:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d("q1tI"),s=c(n),r=c(d("17x9")),i=d("/MKj"),u=d("nVjD"),a=c(d("nVg2")),l=c(d("ZXo9"));function c(e){return e&&e.__esModule?e:{default:e}}class o extends n.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleRefreshClick=this.handleRefreshClick.bind(this)}componentDidMount(){const{dispatch:e,selectedSubreddit:t}=this.props;e((0,u.fetchPostsIfNeeded)(t))}componentWillReceiveProps(e){if(e.selectedSubreddit!==this.props.selectedSubreddit){const{dispatch:t,selectedSubreddit:d}=e;t((0,u.fetchPostsIfNeeded)(d))}}handleChange(e){this.props.dispatch((0,u.selectSubreddit)(e))}handleRefreshClick(e){e.preventDefault();const{dispatch:t,selectedSubreddit:d}=this.props;t((0,u.invalidateSubreddit)(d)),t((0,u.fetchPostsIfNeeded)(d))}render(){const{selectedSubreddit:e,posts:t,isFetching:d,lastUpdated:n}=this.props;return s.default.createElement("div",null,s.default.createElement(a.default,{value:e,onChange:this.handleChange,options:["reactjs","frontend"]}),s.default.createElement("p",null,n&&s.default.createElement("span",null,"Last updated at ",new Date(n).toLocaleTimeString(),"."," "),!d&&s.default.createElement("a",{href:"#",onClick:this.handleRefreshClick},"Refresh")),d&&0===t.length&&s.default.createElement("h2",null,"Loading..."),!d&&0===t.length&&s.default.createElement("h2",null,"Empty."),t.length>0&&s.default.createElement("div",{style:{opacity:d?.5:1}},s.default.createElement(l.default,{posts:t})))}}o.propTypes={selectedSubreddit:r.default.string.isRequired,posts:r.default.array.isRequired,isFetching:r.default.bool.isRequired,lastUpdated:r.default.number,dispatch:r.default.func.isRequired},t.default=(0,i.connect)(function(e){const{selectedSubreddit:t,postsBySubreddit:d}=e,{isFetching:n,lastUpdated:s,items:r}=d[t]||{isFetching:!0,items:[]};return{selectedSubreddit:t,posts:r,isFetching:n,lastUpdated:s}})(o)}},[["TV5u",1,0]]]);
//# sourceMappingURL=clinet.83d38f6bb1bc37f1e197.js.map