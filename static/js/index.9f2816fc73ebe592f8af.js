(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"20qS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/MKj"),l=n("f5wM"),d=function(e){return e&&e.__esModule?e:{default:e}}(n("B7RS"));t.default=(0,r.connect)((e,t)=>({active:t.filter===e.visibilityFilter}),(e,t)=>({onClick:()=>{e((0,l.setVisibilityFilter)(t.filter))}}))(d.default)},B7RS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI"));t.default=(({active:e,children:t,onClick:n})=>e?r.default.createElement("span",null,t):r.default.createElement("a",{href:"",onClick:e=>{e.preventDefault(),n()}},t))},"Dw+8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=u(n("q1tI")),d=u(n("lFn0"));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(({todos:e,onTodoClick:t,getSubreddit:n})=>l.default.createElement("ul",null,e&&e.map((e,u)=>l.default.createElement(d.default,r({key:u},e,{onClick:()=>{t(u+1),n(u)}})))))},NEON:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=((e=[],t)=>{switch(t.type){case"ADD_TODO":return[...e,{id:t.id,text:t.text,completed:!1}];case"TOGGLE_TODO":return e.map(e=>e.id===t.id?r({},e,{completed:!e.completed}):e);default:return e}})},ZAhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=((e="SHOW_ALL",t)=>{switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}})},ZKyZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("q1tI")),l=d(n("20qS"));function d(e){return e&&e.__esModule?e:{default:e}}t.default=(()=>r.default.createElement("p",null,"Show: ",r.default.createElement(l.default,{filter:"SHOW_ALL"},"All"),", ",r.default.createElement(l.default,{filter:"SHOW_ACTIVE"},"Active"),", ",r.default.createElement(l.default,{filter:"SHOW_COMPLETED"},"Completed")))},ZXo9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),l=u(r),d=u(n("17x9"));function u(e){return e&&e.__esModule?e:{default:e}}class i extends r.Component{render(){return l.default.createElement("ul",null,this.props.posts.map((e,t)=>l.default.createElement("li",{key:t},e.title)))}}t.default=i,i.propTypes={posts:d.default.array.isRequired}},baG6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.assign,t.logger=(e=>t=>n=>{console.log("dispatching",n);let r=t(n);return console.log("next state",e.getState()),r}),t.crashReporter=(e=>t=>n=>{try{return t(n)}catch(t){throw console.error("Caught an exception!",t),Raven.captureException(t,{extra:{action:n,state:e.getState()}}),t}})},cokx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ANjH"),l=i(n("NEON")),d=i(n("ZAhb")),u=n("f4xN");function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.combineReducers)({todos:l.default,visibilityFilter:d.default,postsBySubreddit:u.postsBySubreddit,selectedSubreddit:u.selectedSubreddit})},dMzV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("/MKj"),l=n("f5wM"),d=function(e){return e&&e.__esModule?e:{default:e}}(n("Dw+8")),u=n("nVjD");t.default=(0,r.connect)(e=>({todos:((e,t)=>{switch(t){case"SHOW_ALL":return e;case"SHOW_COMPLETED":return e.filter(e=>e.completed);case"SHOW_ACTIVE":return e.filter(e=>!e.completed)}})(e.todos,e.visibilityFilter)}),e=>({onTodoClick:t=>{e((0,l.toggleTodo)(t))},getSubreddit:t=>{e((0,u.fetchPosts)(t))}}))(d.default)},e2aN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),l=n("/MKj"),d=n("f5wM");let u=({dispatch:e})=>{let t;return r.default.createElement("div",null,r.default.createElement("form",{onSubmit:n=>{n.preventDefault(),t.value.trim()&&(e((0,d.addTodo)(t.value)),t.value="")}},r.default.createElement("input",{ref:e=>{t=e}}),r.default.createElement("button",{type:"submit"},"Add Todo")))};u=(0,l.connect)()(u),t.default=u},f4xN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectedSubreddit=t.postsBySubreddit=void 0,n("ANjH");var r=n("nVjD");t.postsBySubreddit=function(e={},t){switch(t.type){case r.INVALIDATE_SUBREDDIT:case r.RECEIVE_POSTS:case r.REQUEST_POSTS:return Object.assign({},e,{[t.subreddit]:function(e={isFetching:!1,didInvalidate:!1,items:[]},t){switch(t.type){case r.INVALIDATE_SUBREDDIT:return Object.assign({},e,{didInvalidate:!0});case r.REQUEST_POSTS:return Object.assign({},e,{isFetching:!0,didInvalidate:!1});case r.RECEIVE_POSTS:return Object.assign({},e,{isFetching:!1,didInvalidate:!1,items:t.posts,lastUpdated:t.receivedAt});default:return e}}(e[t.subreddit],t)});default:return e}},t.selectedSubreddit=function(e="reactjs",t){switch(t.type){case r.SELECT_SUBREDDIT:return t.subreddit;default:return e}}},f5wM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setVisibilityFilter=t.toggleTodo=t.addTodo=void 0;var r=n("sMIZ");let l=0;t.addTodo=(e=>({type:r.ADD_TODO,text:e,id:++l})),t.toggleTodo=(e=>({type:r.TOGGLE_TODO,id:e})),t.setVisibilityFilter=(e=>({type:r.SET_VISIBILITY_FILTER,filter:e}))},lFn0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI"));t.default=(({onClick:e,completed:t,text:n})=>r.default.createElement("li",{onClick:e,style:{textDecoration:t?"line-through":"none"}},n))},nVg2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),l=u(r),d=u(n("17x9"));function u(e){return e&&e.__esModule?e:{default:e}}class i extends r.Component{render(){const{value:e,onChange:t,options:n}=this.props;return l.default.createElement("span",null,l.default.createElement("h1",null,e),l.default.createElement("select",{onChange:e=>t(e.target.value),value:e},n.map(e=>l.default.createElement("option",{value:e,key:e},e))))}}t.default=i,i.propTypes={options:d.default.arrayOf(d.default.string.isRequired).isRequired,value:d.default.string.isRequired,onChange:d.default.func.isRequired}},nVjD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSubreddit=function(e){return{type:d,subreddit:e}},t.invalidateSubreddit=function(e){return{type:u,subreddit:e}},t.fetchPostsIfNeeded=function(e){return(t,n)=>{if(function(e,t){const n=e.postsBySubreddit[t];return!n||!n.isFetching&&n.didInvalidate}(n(),e))return t(function(e){return t=>(t(function(e){return{type:r,subreddit:e}}(e)),fetch(`https://www.reddit.com/r/${e}.json`).then(e=>e.json()).then(n=>t(function(e,t){return{type:l,subreddit:e,posts:n.data.children.map(e=>e.data),receivedAt:Date.now()}}(e))))}(e))}};const r=t.REQUEST_POSTS="REQUEST_POSTS",l=t.RECEIVE_POSTS="RECEIVE_POSTS",d=t.SELECT_SUBREDDIT="SELECT_SUBREDDIT",u=t.INVALIDATE_SUBREDDIT="INVALIDATE_SUBREDDIT"},r8ck:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("q1tI")),l=i(n("ZKyZ")),d=i(n("e2aN")),u=i(n("dMzV"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(()=>r.default.createElement("div",null,r.default.createElement(d.default,null),r.default.createElement(u.default,null),r.default.createElement(l.default,null)))},sMIZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_TODO="ADD_TODO",t.REMOVE_TODO="REMOVE_TODO",t.TOGGLE_TODO="TOGGLE_TODO",t.SET_VISIBILITY_FILTER="SET_VISIBILITY_FILTER",t.VisibilityFilters={SHOW_ALL:"SHOW_ALL",SHOW_COMPLETED:"SHOW_COMPLETED",SHOW_ACTIVE:"SHOW_ACTIVE"}},tjUo:function(e,t,n){"use strict";var r=p(n("q1tI")),l=n("i8i4"),d=n("/MKj"),u=n("ANjH"),i=p(n("sINF")),a=(n("1mXj"),n("5HXA")),s=n("eO8H"),o=n("baG6"),c=p(n("cokx")),f=(p(n("r8ck")),p(n("txfS")));function p(e){return e&&e.__esModule?e:{default:e}}let _=(0,u.createStore)(c.default,(0,a.composeWithDevTools)((0,u.applyMiddleware)(i.default,o.logger)));(0,l.render)(r.default.createElement(d.Provider,{store:_},r.default.createElement(s.BrowserRouter,null,r.default.createElement(s.Route,{path:"/reddit",component:f.default}))),document.getElementById("root"))},txfS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("q1tI"),l=o(r),d=o(n("17x9")),u=n("/MKj"),i=n("nVjD"),a=o(n("nVg2")),s=o(n("ZXo9"));function o(e){return e&&e.__esModule?e:{default:e}}class c extends r.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleRefreshClick=this.handleRefreshClick.bind(this)}componentWillReceiveProps(e){if(e.selectedSubreddit!==this.props.selectedSubreddit){const{dispatch:t,selectedSubreddit:n}=e;t((0,i.fetchPostsIfNeeded)(n))}}handleChange(e){this.props.dispatch((0,i.selectSubreddit)(e))}handleRefreshClick(e){e.preventDefault();const{dispatch:t,selectedSubreddit:n}=this.props;t((0,i.invalidateSubreddit)(n)),t((0,i.fetchPostsIfNeeded)(n))}render(){const{selectedSubreddit:e,posts:t,isFetching:n,lastUpdated:r}=this.props;return l.default.createElement("div",null,l.default.createElement(a.default,{value:e,onChange:this.handleChange,options:["reactjs","frontend"]}),l.default.createElement("p",null,r&&l.default.createElement("span",null,"Last updated at ",new Date(r).toLocaleTimeString(),"."," "),!n&&l.default.createElement("a",{href:"#",onClick:this.handleRefreshClick},"Refresh")),n&&0===t.length&&l.default.createElement("h2",null,"Loading..."),!n&&0===t.length&&l.default.createElement("h2",null,"Empty."),t.length>0&&l.default.createElement("div",{style:{opacity:n?.5:1}},l.default.createElement(s.default,{posts:t})))}}c.propTypes={selectedSubreddit:d.default.string.isRequired,posts:d.default.array.isRequired,isFetching:d.default.bool.isRequired,lastUpdated:d.default.number,dispatch:d.default.func.isRequired},t.default=(0,u.connect)(function(e){const{selectedSubreddit:t,postsBySubreddit:n}=e,{isFetching:r,lastUpdated:l,items:d}=n[t]||{isFetching:!0,items:[]};return{selectedSubreddit:t,posts:d,isFetching:r,lastUpdated:l}})(c)}},[["tjUo",1,0]]]);
//# sourceMappingURL=index.9f2816fc73ebe592f8af.js.map